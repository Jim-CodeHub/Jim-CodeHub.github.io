
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>OS Programming Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Shell.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Extension
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="SoftwareCopyrights.html">
            
                <a href="SoftwareCopyrights.html">
            
                    
                    SoftwareCopyrghts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Database
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="extension/matlab.html">
            
                <a href="extension/matlab.html">
            
                    
                    MatLab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="English.html">
            
                <a href="English.html">
            
                    
                    English
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" >
            
                <span>
            
                    
                    Communication
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="extension/Communication.html">
            
                <a href="extension/Communication.html">
            
                    
                    Serial Communication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" >
            
                <span>
            
                    
                    OS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" >
            
                <span>
            
                    
                    MFC
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" >
            
                <span>
            
                    
                    Web
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="extension/XML.html">
            
                <a href="extension/XML.html">
            
                    
                    XML
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1.1" data-path="extension/JDF.html">
            
                <a href="extension/JDF.html">
            
                    
                    JDF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    GUI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="Qt.html">
            
                <a href="Qt.html">
            
                    
                    Qt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="emWin.html">
            
                <a href="emWin.html">
            
                    
                    emWin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    GNU Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="GCC.html">
            
                <a href="GCC.html">
            
                    
                    GCC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" >
            
                <span>
            
                    
                    Makefile
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="Git.html">
            
                <a href="Git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="Markdown.html">
            
                <a href="Markdown.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="doxygen.html">
            
                <a href="doxygen.html">
            
                    
                    doxygen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="Shell.html">
            
                <a href="Shell.html">
            
                    
                    Shell
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="Posix.html">
            
                <a href="Posix.html">
            
                    
                    OS Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    BSP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" >
            
                <span>
            
                    
                    Device driver
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" >
            
                <span>
            
                    
                    RootFS
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="Kernel.html">
            
                <a href="Kernel.html">
            
                    
                    Kernel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="Bootloader.html">
            
                <a href="Bootloader.html">
            
                    
                    Bootloader
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Programming
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    Programming language
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="Python.html">
            
                <a href="Python.html">
            
                    
                    Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="C++.html">
            
                <a href="C++.html">
            
                    
                    C++
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="C.html">
            
                <a href="C.html">
            
                    
                    C
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" >
            
                <span>
            
                    
                    ASM
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" >
            
                <span>
            
                    
                    Data structure
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" >
            
                <span>
            
                    
                    Algorithm
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    PCB Design
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="PCB.html">
            
                <a href="PCB.html">
            
                    
                    PCB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Analog.html">
            
                <a href="Analog.html">
            
                    
                    Analog Elec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Digital.html">
            
                <a href="Digital.html">
            
                    
                    Digital Elec
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Branch
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" >
            
                <span>
            
                    
                    Automation
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >OS Programming</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="1-unix-basic">1 Unix Basic</h1>
<h1 id="2-process">2 Process</h1>
<h2 id="21-process-environment">2.1 Process Environment</h2>
<h2 id="22-process-control">2.2 Process Control</h2>
<h2 id="23-process-relationships">2.3 Process Relationships</h2>
<h2 id="24-deamon-processes">2.4 Deamon Processes</h2>
<h2 id="25-interprocess-communication">2.5 Interprocess communication</h2>
<h3 id="251-signals">2.5.1 Signals</h3>
<p>Signal is a &apos;soft interrupt&apos;, which used to handle asynchronous events.</p>
<h4 id="2512-send-signals">2.5.1.2 Send Signals</h4>
<ul>
<li><p>&#x7EC8;&#x7AEF;&#x53D1;&#x9001;</p>
<ul>
<li>&#x5FEB;&#x6377;&#x952E;&#xFF1A;$stty -a &#x67E5;&#x770B;&#x53D1;&#x9001;&#x7EC8;&#x7AEF;&#x4FE1;&#x53F7;&#x5FEB;&#x6377;&#x952E;&#x96C6;&#x5408;</li>
<li>&#x547D;&#x4EE4;&#x884C;&#xFF1A;&apos;kill [-s SigName/-n SigNum] PID/GID&apos;. or &apos;Kill -L/-l&apos; (&#x663E;&#x793A;&#x7CFB;&#x7EDF;SigName&#x5217;&#x8868;)</li>
</ul>
</li>
<li><p>&#x51FD;&#x6570;&#x53D1;&#x9001;</p>
<ul>
<li>&#x7ED9;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x6307;&#x5B9A;&#x4FE1;&#x53F7;&#xFF1A;kill(PID, SIG)&#xFF0C;&#x5F53;PID&#x5927;&#x4E8E;0&#x65F6;&#x8868;&#x793A;&#x7ED9;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x7B49;&#x4E8E;0&#x65F6;&#x8868;&#x793A;&#x7ED9;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x7B49;&#x4E8E;-1&#x65F6;&#x8868;&#x793A;&#x7ED9;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x5C0F;&#x4E8E;-1&#x65F6;&#x8868;&#x793A;&#x7ED9;&#x8FDB;&#x7A0B;&#x7EC4;&#x53D1;&#x9001;&#x4FE1;&#x53F7;</li>
<li>&#x7ED9;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x6307;&#x5B9A;&#x4FE1;&#x53F7;&#xFF1A;raise(SIG)</li>
<li>&#x7ED9;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x7EC8;&#x6B62;&#x4FE1;&#x53F7;&#xFF1A;abort();</li>
<li>&#x7ED9;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x95F9;&#x949F;&#x4FE1;&#x53F7;&#xFF1A;alarm(second); &#x8D85;&#x65F6;&#x540E;&#x5C06;&#x53D1;&#x9001;SIGALRM&#x4FE1;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x52A8;&#x4F5C;&#x662F;&#x6740;&#x6B7B;&#x8FDB;&#x7A0B;&#xFF0C;&#x91CD;&#x590D;&#x8C03;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x5C06;&#x91CD;&#x8F7D;&#x8BBE;&#x5B9A;&#x65F6;&#x95F4;&#x5E76;&#x8FD4;&#x56DE;&#x4E0A;&#x6B21;&#x5269;&#x4F59;&#x65F6;&#x95F4;&#xFF0C;&#x5F53;&#x53C2;&#x6570;&#x4E3A;0&#x65F6;&#x8868;&#x793A;&#x53D6;&#x6D88;&#x4E4B;&#x524D;&#x7684;&#x95F9;&#x949F;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4E00;&#x5B9A;&#x8981;&#x653E;&#x7F6E;&#x5728;&#x6355;&#x6349;&#x51FD;&#x6570;&#x4E4B;&#x540E;</li>
<li>&#x7ED9;&#x6307;&#x5B9A;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x5E76;&#x9644;&#x52A0;&#x503C;&#xFF1A;sigqueue(PID, SIG, VAL); &#x4F7F;&#x7528;sigaction()&#x83B7;&#x53D6;VAL&#x503C;(Union).</li>
</ul>
</li>
</ul>
<h4 id="2513-processing-signals">2.5.1.3 Processing Signals</h4>
<ul>
<li>&#x5FFD;&#x7565;&#x4FE1;&#x53F7;&#xFF1A;&#x88AB;&#x5FFD;&#x7565;&#x7684;&#x4FE1;&#x53F7;&#x9ED8;&#x8BA4;&#x52A8;&#x4F5C;&#x662F;&#x5FFD;&#x7565;/&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;</li>
<li>&#x6355;&#x6349;&#x4FE1;&#x53F7;&#xFF1A;<ul>
<li>signal(SIG, CALLBACK); &#x540C;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x6CE8;&#x518C;&#x591A;&#x6B21;&#x5219;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6709;&#x6548;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x9002;&#x5408;&#x5355;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x73AF;&#x5883;</li>
<li>sigaction(SIG, ACT, OLDACT); </li>
</ul>
</li>
</ul>
<h2 id="3-io">3 I/O</h2>
<pre><code>I/O&#x77E9;&#x9635;

        &#x963B;&#x585E;                                &#x4E0D;&#x963B;&#x585E;
&#x540C;&#x6B65;    1. R/W                                2. R/W+O_NONBLOCK
&#x5F02;&#x6B65;    3. &#x591A;&#x8DEF;&#x590D;&#x7528;(&#x53EF;&#x914D;&#x7F6E;&#x4E3A;&#x4E0D;&#x963B;&#x585E;)            4. AIO

1. &#x540C;&#x6B65;&#x963B;&#x585E;IO
    &#x7528;&#x6237;&#x7A7A;&#x95F4;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x963B;&#x585E;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F1A;&#x4E00;&#x76F4;&#x963B;&#x585E;&#xFF0C;&#x76F4;&#x5230;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x5B8C;&#x6210;&#x4E3A;&#x6B62;&#xFF08;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x5B8C;&#x6210;&#x6216;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF09;
    &#x3002;&#x8C03;&#x7528;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5904;&#x4E8E;&#x4E00;&#x79CD;&#x4E0D;&#x518D;&#x6D88;&#x8D39; CPU &#x800C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7B49;&#x5F85;&#x54CD;&#x5E94;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x56E0;&#x6B64;&#x4ECE;&#x5904;&#x7406;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x8FD9;&#x662F;&#x975E;&#x5E38;&#x6709;&#x6548;&#x7684;

    &#x4EE5;read&#x4E3E;&#x4F8B;:
    &#x963B;&#x585E;-&#x300B;&#x5207;&#x6362;&#x5230;&#x5185;&#x6838;&#x6001;-&#x300B;&#x8BFB;&#x5B8C;&#x6210;-&#x300B;&#x5207;&#x6362;&#x5230;&#x7528;&#x6237;&#x6001;&#xFF08;&#x6570;&#x636E;&#x79FB;&#x52A8;&#x5230;&#x7528;&#x6237;&#x7F13;&#x51B2;&#x533A;&#xFF09;

    &#x4F7F;&#x540C;&#x6B65;&#x963B;&#x585E;IO&#x5E76;&#x53D1;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x5229;&#x7528;&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#xFF0C;&#x6240;&#x6709;&#x963B;&#x585E;IO&#x5404;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;/&#x7EBF;&#x7A0B;&#xFF0C;&#x5E76;&#x4E14;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7EBF;&#x7A0B;&#x5219;&#x9700;&#x505A;&#x597D;&#x6570;&#x636E;&#x540C;&#x6B65;.

2. &#x540C;&#x6B65;&#x4E0D;&#x963B;&#x585E;IO
    &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x8868;&#x793A;IO&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x5B8C;&#x6210;&#xFF0C;&#x4E3A;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x5B8C;&#x6210;&#x8981;&#x4E00;&#x76F4;&#x8F6E;&#x8BE2;&#xFF0C;&#x5E76;&#x9002;&#x5F53;&#x7684;&#x52A0;&#x5165;&#x5EF6;&#x65F6;&#xFF0C;&#x5F53;&#x6CA1;&#x6709;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x65F6;errno&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x6210;&#x76F8;&#x5E94;&#x9519;&#x8BEF;&#x7801;&#xFF0C;&#x5982;EAGAIN(&#x518D;&#x6765;&#x4E00;&#x6B21;)&#x6216;&#x5176;&#x5B83;&#x9519;&#x8BEF;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x548C;&#x9519;&#x8BEF;&#x7801;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x4E0B;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#x3002;

3. &#x5F02;&#x6B65;&#x963B;&#x585E;IO - &#x591A;&#x8DEF;&#x590D;&#x7528; 
    &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x76F8;&#x6BD4;&#x201C;&#x540C;&#x6B65;&#x963B;&#x585E;IO&#x201D;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x963B;&#x585E;&#x591A;&#x4E2A;IO&#xFF0C;&#x5E76;&#x4E14;&#x963B;&#x585E;&#x7684;&#x65F6;&#x957F;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x3002;
    &#x8C03;&#x7528;select&#x3001;poll&#x3001;epoll&#xFF08;linux&#xFF09;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002;

    **&#x5F53;&#x7528;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x53EA;&#x963B;&#x585E;&#x4E00;&#x4E2A;IO&#x65F6;&#xFF0C;&#x4E0E;&#x540C;&#x6B65;IO&#x7684;&#x533A;&#x522B;&#x5C31;&#x53EA;&#x6709; &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x963B;&#x585E;&#x65F6;&#x957F;&#x3002;**

    &#x5B9E;&#x9645;&#x4E0A; &#x540C;&#x6B65;&#x963B;&#x585E;IO &#x53EF;&#x4EE5;&#x5229;&#x7528;&#x4FE1;&#x53F7;signal&#x8FBE;&#x5230;&#x8D85;&#x65F6;&#x7684;&#x8BBE;&#x7F6E;&#x3002;

    &#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86; IO&#x591A;&#x8DEF;&#x590D;&#x7528;&#xFF0C;&#x90A3;&#x4E48;I/O&#x672C;&#x8EAB;&#x5C31;&#x4E0D;&#x5E94;&#x8BE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x963B;&#x585E;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;&#x4E86;select/poll/epoll() &#xFF0C;read/write&#x5C31;&#x4E0D;&#x8981;&#x518D;&#x8BBE;&#x7F6E;&#x6210;&#x963B;&#x585E;&#x4E86;
    &#xFF0C;&#x663E;&#x7136; &#x5982;&#x679C;&#x8FD9;&#x6837;&#x505A; select&#x3001;poll&#x3001;epoll&#x5C31;&#x5931;&#x53BB;&#x6216;&#x635F;&#x574F;&#x591A;&#x8DEF;&#x590D;&#x7528;&#x7684;&#x529F;&#x80FD;&#x4E86;&#x3002;

    &#x7279;&#x522B;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x591A;&#x8DEF;&#x590D;&#x7528;&#x51FD;&#x6570;&#x89E3;&#x9664;&#x963B;&#x585E;&#x540E;&#xFF0C;&#x8981;&#x5BF9;&#x8BE5;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x505A;&#x8017;&#x65F6;&#x64CD;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x4ECD;&#x7136;&#x9700;&#x8981;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B;&#xFF0C;&#x4EE5;&#x4FBF;&#x5FEB;&#x901F;&#x8FDB;&#x5165;&#x4E0B;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;

    Tips&#xFF1A;&#x591A;&#x8DEF;&#x590D;&#x7528;&#x662F;&#x5BF9;&#x4E8B;&#x4EF6;&#x963B;&#x585E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5BF9;IO&#x963B;&#x585E;.

4. &#x5F02;&#x6B65;&#x975E;&#x963B;&#x585E;IO - AIO
    &#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x5229;&#x7528;&#x4E86;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x4E0E;I/O&#x901F;&#x5EA6;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x5904;&#x7406;&#x5668;&#x901F;&#x5EA6;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6781;&#x5FEB;&#x7684;&#xFF0C;I/O&#x901F;&#x5EA6;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x6162;&#x64CD;&#x4F5C;&#x3002;

    &#x5728;&#x8FD0;&#x884C;IO&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x53EA;&#x5BF9;&#x8BE5;IO&#x8FDB;&#x884C;&#x6CE8;&#x518C;&#x767B;&#x8BB0;&#xFF0C;&#x800C;&#x4E0D;&#x963B;&#x585E;&#x7B49;&#x5F85;&#x5B83;&#x7684;&#x8FD4;&#x56DE;&#x3001;&#x4E5F;&#x4E0D;&#x5BF9;&#x5176;&#x8F6E;&#x8BE2;&#xFF0C;&#x800C;&#x662F;&#x7EE7;&#x7EED;&#x4E0B;&#x9762;&#x7684;&#x5176;&#x5B83;&#x4EE3;&#x7801;&#x6267;&#x884C;&#xFF0C;&#x5BF9;&#x8BE5;IO&#x7684;&#x76D1;&#x63A7;&#x4EA4;&#x7ED9;&#x5185;&#x6838;&#x5B8C;&#x6210;&#xFF0C;
    &#x5F53;IO&#x54CD;&#x5E94;&#x8FBE;&#x5230;&#x65F6;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x6216;&#x6216;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x7EBF;&#x7A0B;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x6B21; I/O &#x5904;&#x7406;&#x8FC7;&#x7A0B;

    &#x8FD9;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E3A;&#x672A;&#x6765;&#x8981;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x4EF6;&#x51C6;&#x5907;&#x597D;&#x8D44;&#x6E90;&#xFF0C;&#x5F53;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x548C;&#x5229;&#x7528;&#x8BE5;&#x8D44;&#x6E90;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E0D;&#x7528;&#x7528;&#x6237;&#x76D1;&#x63A7;&#xFF0C;&#x7528;&#x6237;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x6CE8;&#x518C;&#x767B;&#x8BB0;&#x5E76;&#x51C6;&#x5907;&#x8D44;&#x6E90;&#x3002;
</code></pre><h3 id="21-&#x963B;&#x585E;&#x5F0F;io">2.1 &#x963B;&#x585E;&#x5F0F;I/O</h3>
<h3 id="22-&#x975E;&#x963B;&#x585E;&#x5F0F;io">2.2 &#x975E;&#x963B;&#x585E;&#x5F0F;I/O</h3>
<h3 id="23-&#x591A;&#x8DEF;&#x590D;&#x7528;">2.3 &#x591A;&#x8DEF;&#x590D;&#x7528;</h3>
<h3 id="24-&#x5F02;&#x6B65;io">2.4 &#x5F02;&#x6B65;I/O</h3>
<pre><code>&#x5F02;&#x6B65;I/O&#x662F;&#x4E0D;&#x963B;&#x585E;&#x7684;&#xFF0C;&#x8BBE;&#x5B9A;&#x597D;&#x4E8B;&#x4EF6;&#x548C;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x5176;&#x5B83;&#x7684;&#x4E8B;&#x60C5;&#x4E86;&#x3002;&#x5F53;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x53BB;&#x6267;&#x884C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;

&#x6240;&#x4EE5;&#x6CE8;&#x518C;&#x7684;&#x6982;&#x5FF5;&#x5BF9;&#x5F02;&#x6B65;I/O&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x4F60;&#x53EA;&#x7BA1;&#x767B;&#x8BB0;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x5176;&#x4ED6;&#x7684;&#x4E8B;&#xFF0C;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x4E86;&#x5C31;&#x901A;&#x77E5;&#x4F60;&#x56DE;&#x53BB;&#x505A;&#x767B;&#x8BB0;&#x7684;&#x4E8B;&#xFF0C;&#x4E8E;&#x662F;&#x4F60;&#x4E0D;&#x5FC5;&#x963B;&#x585E;&#x7B49;&#x5F85;&#xFF0C;
&#x4E5F;&#x4E0D;&#x5FC5;&#x5FAA;&#x73AF;&#x8F6E;&#x8BE2;&#x3002;

&#x7C7B;&#x4F3C;&#x4E8E;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x5E8F;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x5176;&#x5B83;&#x4EE3;&#x7801;&#xFF0C;&#x5F53;&#x4FE1;&#x53F7;&#x5230;&#x8FBE;&#x65F6;&#x76F4;&#x63A5;&#x8F6C;&#x53BB;&#x6267;&#x884C;&#x4FE1;&#x53F7;&#x6CE8;&#x518C;&#x7684;&#x51FD;&#x6570;
</code></pre><h2 id="3-asyn-io-aio">3 Asyn I/O (AIO)</h2>
<h2 id="31-io-multiplexing">3.1 I/O Multiplexing</h2>
<pre><code>&#x80CC;&#x666F;&#xFF1A;
&#x5BF9;&#x4E8E;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x72B6;&#x6001;&#xFF08;&#x5982;socket&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3001;open&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7B49;&#x7B49;&#xFF0C;&#x7CFB;&#x7EDF;&#x5E76;&#x4E0D;&#x4E3B;&#x52A8;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x4EFB;&#x4F55;&#x4FE1;&#x606F;&#xFF0C;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5173;&#x8054;&#x7684;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x4EFB;&#x4F55;&#x53D8;&#x5316;&#x90FD;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x4E3B;&#x52A8;&#x53BB;&#x67E5;&#x8BE2;&#xFF0C;

&#x6709;&#x201C;&#x963B;&#x585E;+&#x591A;&#x8FDB;&#x7A0B;/&#x591A;&#x7EBF;&#x7A0B;&#x201D;&#x3001;&#x201C;&#x975E;&#x963B;&#x585E;&#x67E5;&#x8BE2;&quot;&#x548C;&#x201D;&#x5F02;&#x6B65;I/O&#x201C;&#x53EF;&#x9009;&#xFF0C;&#x4F46;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x7406;&#x60F3;

&#x963B;&#x585E;&#x5F0F;IO &#xFF1A;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;/&#x7EBF;&#x7A0B;&#x5F53;&#x4E2D;&#xFF0C;&#x88AB;&#x963B;&#x585E;&#x7684;&#x4E0B;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x5C06;&#x4E00;&#x76F4;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x88AB;&#x963B;&#x585E;&#x51FD;&#x6570;&#x4E0D;&#x963B;&#x585E;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9002;&#x5408;&#x975E;&#x5E76;&#x53D1;&#x6001;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x4F46;&#x662F;&#x5927;&#x591A;&#x6570;&#x7F16;&#x7A0B;&#x90FD;&#x662F;&#x9700;&#x8981;&#x5E76;&#x53D1;&#x7684;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5B58;&#x5728;&#x7684;&#x610F;&#x4E49;&#x4E4B;&#x4E00;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x8981;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;IO&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FDB;&#x7A0B;&#x8D44;&#x6E90;&#x5F88;&#x5B9D;&#x8D35;&#xFF0C;&#x800C;&#x4F7F;&#x7528;&#x7EBF;&#x7A0B;&#x4E5F;&#x9700;&#x8981;&#x89E3;&#x51B3;&#x9501;&#x548C;&#x540C;&#x6B65;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B;+&#x963B;&#x585E;&#x6A21;&#x5F0F;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x8FD9;&#x8981;&#x8BC4;&#x4F30;&#x9879;&#x76EE;&#x5B9E;&#x9645;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x6709;&#x5F88;&#x5C11;&#x91CF;&#x7684;IO&#x662F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7C7B;&#x4F3C;TCP/IP-HTTP&#x9AD8;&#x5E76;&#x53D1;&#x670D;&#x52A1;&#x5668;&#x8FD9;&#x79CD;&#x7684;&#xFF0C;&#x90A3;&#x5F88;&#x5FEB;&#x5C31;&#x4F1A;&#x5D29;&#x6E83;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x90FD;&#x4E0D;&#x80FD;&#x65E0;&#x9650;&#x5236;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x8FDB;&#x7A0B;&#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x5F00;&#x9500;&#x4E5F;&#x5F88;&#x5927;&#x3002;&#x5F53;&#x8FDB;&#x7A0B;&#x3001;&#x7EBF;&#x7A0B;&#x8FC7;&#x591A;&#x65F6;&#xFF0C;CPU&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x90FD;&#x7528;&#x6765;&#x5207;&#x6362;&#x4E86;&#x3002;

&#x975E;&#x963B;&#x585E;&#x6A21;&#x5F0F;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x5FAA;&#x73AF;&#x68C0;&#x67E5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8F6E;&#x8BE2;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x65E0;&#x9650;&#x8F6E;&#x8BE2;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5F53;&#x524D;&#x7684;CPU&#x6838;&#x63A5;&#x8FD1;100%&#xFF0C;&#x8FD9;&#x4E0E;RTOS&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6B7B;&#x5FAA;&#x73AF;&#x4EFB;&#x52A1;&#x4E2D;&#x4E0D;&#x52A0;&#x5EF6;&#x65F6;&#x6216;&#x8C03;&#x5EA6;&#x4EA7;&#x751F;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x90FD;&#x65E0;&#x6CD5;&#x6267;&#x884C;&#x4E86;&#xFF0C;CPU&#xFF08;&#x5982;&#x5355;&#x6838;&#xFF09;&#x65E0;&#x6CD5;&#x7ED9;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x5206;&#x914D;&#x65F6;&#x95F4;&#x7247;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x52A0;&#x5EF6;&#x65F6;&#xFF0C;&#x6BD4;&#x5982;sleep&#x7761;&#x7720;&#xFF0C;&#x4F46;&#x7761;&#x7720;&#x8BBE;&#x7F6E;&#x591A;&#x4E45;&#x5462;&#xFF1F;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x957F;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x80FD;&#x53CA;&#x65F6;&#x68C0;&#x67E5;&#x5E76;&#x5904;&#x7406;&#x5DF2;&#x7ECF;&#x53D1;&#x751F;&#x4E8B;&#x4EF6;&#x7684;IO&#xFF0C;&#x5982;&#x679C;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x8FC7;&#x5FEB;&#xFF0C;&#x5F88;&#x53EF;&#x80FD;&#x5728;&#x88AB;&#x68C0;&#x67E5;&#x4E4B;&#x524D;&#x8986;&#x76D6;&#x6389;&#x4E86;&#x4E0A;&#x6B21;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x5BFC;&#x81F4;&#x6F0F;&#x68C0;&#xFF0C;&#x66F4;&#x6162;&#x7684;&#x5468;&#x671F;&#x8FD8;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4E0D;&#x53CA;&#x65F6;&#x5904;&#x7406;&#x4EA7;&#x751F;&#x7684;&#x5176;&#x5B83;&#x95EE;&#x9898;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x7684;&#x65F6;&#x95F4;&#x8FC7;&#x77ED;&#x5C31;&#x4EA7;&#x751F;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x65E0;&#x6CD5;&#x5206;&#x914D;&#x65F6;&#x95F4;&#x7247;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6240;&#x4EE5;&#x5EF6;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#x5F88;&#x96BE;&#x628A;&#x63A7;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x9891;&#x7E41;&#x7684;&#x8C03;&#x7528;I/O&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E5F;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x8868;&#x73B0;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x4EFB;&#x4F55;&#x51FD;&#x6570;&#x90FD;&#x4E0D;&#x5E94;&#x8BE5;&#x975E;&#x5E38;&#x9891;&#x7E41;&#x7684;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x8C03;&#x7528;&#x3002; 


&#x591A;&#x8DEF;&#x590D;&#x7528;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;/&#x7EBF;&#x7A0B;&#x4E0B;&#x8FBE;&#x5230;&#x963B;&#x585E;&#x591A;&#x4E2A;I/O&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x963B;&#x585E;&#x662F;&#x6709;&#x65F6;&#x95F4;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;0&#x4E0D;&#x963B;&#x585E;&#xFF0C;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x963B;&#x585E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x5B9A;&#x56FA;&#x5B9A;&#x65F6;&#x957F;&#x3002;

I/O&#x591A;&#x8DEF;&#x590D;&#x7528;&#x662F;&#x5355;&#x8FDB;&#x7A0B;&#x4E0B;&#x7684; &#x4FE1;&#x53F7;&#x3001;&#x8F6E;&#x8BE2;&#x7B49;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x7EC4;&#x5408;&#x4F53;.

I/O&#x591A;&#x8DEF;&#x590D;&#x7528;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x5355;&#x8FDB;&#x7A0B;&#x4E0B;&#x4F7F;&#x7528;&#x5185;&#x6838;&#x673A;&#x5236;&#x68C0;&#x67E5;&#x63CF;&#x8FF0;&#x7B26;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x6210;&#x5458;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x5BF9;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5F00;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x963B;&#x585E;&#x68C0;&#x67E5;&#x3002;


I/O&#x591A;&#x8DEF;&#x590D;&#x7528; - &#x6784;&#x9020;&#x4E00;&#x4E2A;&#x63CF;&#x8FF0;&#x7B26;&#x5217;&#x8868;&#xFF0C;&#x8C03;&#x7528;&#x7279;&#x5B9A;&#x51FD;&#x6570;&#x67E5;&#x8BE2;&#x8FD9;&#x4E9B;&#x5217;&#x8868;&#xFF0C;&#x76F4;&#x5230;&#x8FD9;&#x4E9B;&#x63CF;&#x8FF0;&#x7B26;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x8FDB;&#x884C;I/O&#x65F6;&#x624D;&#x8FD4;&#x56DE;

select, pselect, &#x548C; poll &#x662F;posix&#x6807;&#x51C6;&#x5185;&#x7684;&#xFF0C;eselect&#x5728;Linux&#x4E2D;&#x5B58;&#x5728;
</code></pre><ul>
<li><p>select</p>
<p>  int select(int nfds, fd_set <em>readfds, fd_set </em>writefds, fd_set <em>exceptfds, struct timeval </em>timeout);</p>
<p>  timeout - &#x5728;&#x63CF;&#x8FF0;&#x7B26;&#x5217;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x53EF;&#x8BFB;&#x3001;&#x53EF;&#x5199;&#x3001;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x963B;&#x585E;&#x7684;&#x65F6;&#x957F;&#xFF0C;&#x6216;&#x63CF;&#x8FF0;&#x4E3A;&#x201C;&#x6CA1;&#x6709;&#x6355;&#x6349;&#x5230;&#x4FE1;&#x53F7;&#x201D;&#x7B49;&#x5F85;&#x7684;&#x65F6;&#x957F;&#x3002; </p>
<pre><code>        NULL&#x4E3A;&#x6C38;&#x4E45;&#x7B49;&#x5F85;&#xFF0C;&#x5373;&#x963B;&#x585E;&#x6A21;&#x5F0F;
        timeout-&gt;tv_sec==0 &amp;&amp; timeout-&gt;tvu_sec=0 &#x4E0D;&#x7B49;&#x5F85;&#xFF0C;&#x8F6E;&#x8BE2;&#x4E00;&#x6B21;&#x6240;&#x6709;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5C31;&#x8FD4;&#x56DE;&#xFF0C;&#x5373;&#x975E;&#x963B;&#x585E;&#x6A21;&#x5F0F;
        &#x5BF9;&#x4E0A;&#x8FF0;&#x6210;&#x5458;&#x8D4B;&#x503C;&#x5373;&#x8868;&#x793A;&#x7B49;&#x5F85;&#x56FA;&#x5B9A;&#x65F6;&#x957F;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x65F6;&#x540E;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;0&#x8868;&#x793A;&#x6CA1;&#x6709;&#x53EF;&#x7528;fd

        &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x662F;&#x5426;&#x662F;&#x963B;&#x585E;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;select&#xFF0C;&#x5B83;&#x7684;&#x8D85;&#x65F6;&#x53EA;&#x7531;timeout&#x51B3;&#x5B9A;
</code></pre><p>  readfds/writefds/exceptfds &#x5206;&#x522B;&#x4E3A;&#x8BFB;&#x3001;&#x5199;&#x3001;&#x5F02;&#x5E38;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x96C6;&#x7684;&#x6307;&#x9488;&#xFF0C;POSIX&#x5BF9;&#x4E8E;fd_set&#x7C7B;&#x578B;&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x53EF;&#x9009;&#x62E9;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x5E76;&#x4E0D;&#x4F1A;
  &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8BE5;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x800C;&#x662F;&#x8C03;&#x7528;&#x5982;&#x4E0B;&#x51FD;&#x6570;&#x5B8F;&#xFF1A;</p>
<p>  int  FD_ISSET(int fd, fd_set <em>set); //&#x5224;&#x65AD;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x662F;&#x5426;&#x5C5E;&#x4E8E;&#x8BE5;&#x96C6;&#x5408;
  void FD_SET(int fd, fd_set </em>set);    //&#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;
  void FD_CLR(int fd, fd_set <em>set);   //&#x5220;&#x9664;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;
  void FD_ZERO(fd_set </em>set);            //&#x5220;&#x9664;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;</p>
<p>  nfds - &#x6700;&#x5927;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7F16;&#x53F7;+1, &#x56E0;&#x4E3A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7F16;&#x53F7;&#x4ECE;0&#x5F00;&#x59CB;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#x9650;&#x5236;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;N&#xFF0C;&#x5219;&#x4E0A;&#x8FF0;&#x4E09;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x90FD;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E;N&#x624D;&#x80FD;&#x88AB;&#x68C0;&#x6D4B;&#xFF0C;
  &#x975E;&#x5E38;&#x4FDD;&#x9669;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x8BBE;&#x7F6E;FD_SIZE&#xFF0C;&#x8BE5;&#x5B8F;&#x8868;&#x793A;&#x652F;&#x6301;&#x7684;&#x6700;&#x5927;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x503C;&#x3002;&#x901A;&#x5E38;&#x901A;&#x8FC7;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x505A;&#x6BD4;&#x8F83;&#xFF0C;&#x6765;&#x786E;&#x5B9A;&#x54EA;&#x4E00;&#x4E2A;&#x624D;&#x662F;&#x6700;&#x5927;&#x7684;&#x3002;</p>
<p>  &#x8FD4;&#x56DE;&#x503C;&#xFF1A;</p>
<p>  -1 &#x51FA;&#x9519;&#xFF0C;&#x8FD4;&#x56DE;0&#xFF08;&#x8D85;&#x65F6;&#x6CA1;&#x6709;fd&#x51C6;&#x5907;&#x597D;&#xFF09;&#xFF0C;&gt;0&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x4E86;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;&#x63CF;&#x8FF0;&#x7B26;&#x540C;&#x65F6;&#x51C6;&#x5907;&#x597D;&#x8BFB;&#x548C;&#x5199;&#x5219;&#x8FD4;&#x56DE;&#x503C;&#x5BF9;&#x5176;&#x8BA1;&#x6570;&#x4E24;&#x6B21;</p>
<p>  &#x51C6;&#x5907;&#x597D;&#x7684;&#x542B;&#x4E49;&#x662F;&#xFF0C;select&#x8FD4;&#x56DE;&#x4E4B;&#x540E;&#xFF08;&#x5927;&#x4E8E;0&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;read/write&#xFF0C;&#x4E14;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x3002;&#x53E6;&#x5916;&#x5BF9;&#x4E8E;&#x666E;&#x901A;&#x6587;&#x4EF6;&#xFF0C;read&#x3001;write&#x548C;&#x5F02;&#x5E38;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x603B;&#x662F;&#x51C6;&#x5907;&#x597D;&#x7684;</p>
</li>
</ul>
<pre><code>&#x6CE8;&#x610F;&#xFF1A;select &#x9047;&#x5230;&#x6587;&#x4EF6;&#x5C3E;&#x7AEF;&#x65F6;&#x4ECD;&#x7136;&#x8BA4;&#x4E3A;&#x662F;&#x53EF;&#x8BFB;&#x7684;&#xFF0C;&#x76F4;&#x5230;&#x8BFB;&#x5B8C;&#x8BE5;&#x5C3E;&#x7AEF;&#x3002;select&#x8FD4;&#x56DE;&#x540E;&#xFF0C;&#x8C03;&#x7528;read&#x8FD4;&#x56DE;0&#xFF0C;&#x56E0;&#x4E3A;&#x5230;&#x8FBE;&#x4E86;&#x5C3E;&#x7AEF;
</code></pre><ul>
<li><p>pselect</p>
<p>  int pselect(int nfds, fd_set <em>readfds, fd_set </em>writefds, fd_set <em>exceptfds, const struct timespec </em>timeout, const sigset_t *sigmask);</p>
<p>  pselect &#x5C06;&#x8D85;&#x65F6;&#x7C7B;&#x578B;&#x6539;&#x4E3A;timspec&#xFF0C;&#x80FD;&#x7CBE;&#x786E;&#x5230;&#x7EB3;&#x79D2;&#xFF0C; &#x5E76;&#x589E;&#x52A0;&#x4E86;sigset_t&#x7C7B;&#x578B;&#xFF0C;&#x5373;&#x4FE1;&#x53F7;&#x91CF;&#x5C4F;&#x853D;&#x96C6;&#xFF0C;</p>
<pre><code>      &#x5F53;sigmask&#x4E3A;NULL&#x65F6;&#xFF0C;pselect&#x4E0E;select&#x8868;&#x73B0;&#x76F8;&#x540C;
      &#x4FE1;&#x53F7;&#x5C4F;&#x853D;&#x5B57;&#xFF0C;&#x5373;&#x4FE1;&#x53F7;&#x5C4F;&#x853D;&#x96C6;&#xFF0C;&#x88AB;&#x5C4F;&#x853D;&#x7684;&#x4FE1;&#x53F7;&#x4E0D;&#x80FD;&#x53D1;&#x9001;&#x7ED9;pselect&#x6240;&#x5728;&#x8FDB;&#x7A0B;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x963B;&#x585E;&#x4FE1;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x6062;&#x590D;&#x540E;&#x4FE1;&#x53F7;&#x4ECD;&#x7136;&#x53EF;&#x7528;&#xFF0C;&#x88AB;&#x963B;&#x585E;&#x7684;&#x4FE1;&#x53F7;&#x4ECD;&#x7136;&#x88AB;&#x53D1;&#x9001;&#xFF09;&#xFF0C;&#x8FD4;&#x56DE;&#x65F6;&#x6062;&#x590D;&#x5C4F;&#x853D;&#x4FE1;&#x53F7;&#x3002;
</code></pre></li>
<li><p>poll </p>
<p>  poll&#x652F;&#x6301;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;&#x800C;select&#x53EA;&#x652F;&#x6301;&#x8BFB;&#x3001;&#x5199;&#x548C;&#x5F02;&#x5E38;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF09;&#xFF0C;</p>
<p>  int poll(struct pollfd *fds, nfds_t nfds, int timeout);</p>
<p>  fds&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;pollfd&#x7ED3;&#x6784;&#x4F53;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>  struct pollfd {</p>
<pre><code>  int fd;        //&#x8981;&#x68C0;&#x6D4B;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x5F53;&#x8BBE;&#x7F6E;&#x5C0F;&#x4E8E;0&#x65F6;&#xFF0C;poll&#x5C06;&#x5FFD;&#x7565;
  short event;    //&#x544A;&#x8BC9;&#x7528;&#x6237;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x4E8B;&#x4EF6;
  short revents; //&#x5185;&#x6838;&#x8FD4;&#x56DE;&#x7ED9;&#x7528;&#x6237;&#x5F53;&#x524D;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x4EF6;
</code></pre><p>  };</p>
<p> nfds&#x8868;&#x793A;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x4E2A;&#x6570;</p>
<p> events&#x53EF;&#x9009;&#x503C;&#x4E3A;POLLIN/.....&#x4EE5;&#x53CA;&#x5B83;&#x4EEC;&#x7684;&#x6216;&#x503C;
 reevents&#x53E6;&#x5916;&#x53EF;&#x8FD4;&#x56DE;POLLERR/POLLHUP/POLLNVAL&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x4E09;&#x4E2A;&#x503C;events&#x4E0D;&#x80FD;&#x8BBE;&#x7F6E;</p>
<p> POLLUP&#x8868;&#x793A;&#x6302;&#x65AD;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x80FD;&#x8BFB;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x5199;</p>
</li>
</ul>
<p>   timeout = -1 &#x8868;&#x793A;&#x6C38;&#x4E45;&#x7B49;&#x5F85;&#xFF0C;&#x5F53;&#x6709;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x51C6;&#x5907;&#x597D;&#x65F6;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;+&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6536;&#x5230;&#x4FE1;&#x53F7;&#x4E2D;&#x65AD;&#x5219;&#x8FD4;&#x56DE;-1, errno = EINTR&#x3002;</p>
<p>   = 0 &#x4E0D;&#x7B49;&#x5F85;</p>
<blockquote>
<p>0 &#x6BEB;&#x79D2;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x65F6;&#x672A;&#x51C6;&#x5907;&#x597D;&#x5219;poll&#x8FD4;&#x56DE;0</p>
</blockquote>
<p>   &#x4E0E;select&#x4E00;&#x6837;&#xFF0C;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x662F;&#x5426;&#x963B;&#x585E;&#x4E0D;&#x5F71;&#x54CD;poll&#xFF0C;&#x53EA;&#x7531;timeout&#x51B3;&#x5B9A;</p>
<p>TIPs : poll&#x4E0E;inotify&#x51FD;&#x6570;&#x7EC4;&#x5408;
poll &#x4F7F;&#x7528;</p>
<pre><code>struct            pollfd fds = { .fd = queue_fd, .events = POLLIN };
</code></pre><p>&#x5173;&#x8054;inotify_init&#xFF08;&#xFF09;&#x8FD4;&#x56DE;&#x7684;fd&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x961F;&#x5217;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x4E8B;&#x4EF6;&#x5C31;&#x662F;&#x53EF;&#x8BFB;</p>
<p>&#x5982;&#x679C;&#x961F;&#x5217;&#x53EF;&#x8BFB;&#xFF0C;&#x5C31;&#x8868;&#x793A;queue_fd&#x4E2D;&#x7684;watch_fd&#x53EF;&#x8BFB;&#x4E86;</p>
<p>&#x540C;&#x65F6;&#x53D1;&#x751F;&#x5728;watch_fd&#x7684;&#x4E8B;&#x4EF6;&#x53EF;&#x80FD;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;read&#x6765;&#x5FAA;&#x73AF;&#x8BFB;&#xFF0C;&#x4E00;&#x76F4;&#x8BFB;&#x5230;&#x6CA1;&#x6709;&#x3002;</p>
<p>&#x7136;&#x540E;&#x7EE7;&#x7EED;poll&#x5FAA;&#x73AF;&#xFF0C;&#x89C2;&#x5BDF;&#x4E0B;&#x4E00;&#x4E2A;watch_fd&#xFF0C;</p>
<hr>
<h1 id="appendix-a&#xFF1A;unix-standards-and-implementation-"><span id="Appendix-A"> Appendix-A&#xFF1A;UNIX Standards and Implementation </span></h1>
<h2 id="posix---isoiec-9945">Posix - ISO/IEC 9945</h2>
<h2 id="isoiec-9945-1--base-definitions">ISO/IEC 9945-1 : BASE DEFINITIONS</h2>
<h2 id="isoiec-9945-2--system-interfaces">ISO/IEC 9945-2 : SYSTEM INTERFACES</h2>
<h2 id="isoiec-9945-3--shell-and-ultilities">ISO/IEC 9945-3 : SHELL AND ULTILITIES</h2>
<h2 id="isoiec-9945-4--rationale">ISO/IEC 9945-4 : RATIONALE</h2>
<hr>
<h2 id="&#x6563;&#x88C5;&#x77E5;&#x8BC6;&#x70B9;">&#x6563;&#x88C5;&#x77E5;&#x8BC6;&#x70B9;</h2>
<h3 id="setpgidpidt-pid-pidt-pgid">setpgid(pid_t pid, pid_t pgid)</h3>
<p>&#x5C06;pid&#x6240;&#x5728;&#x7684;&#x7EC4;ID&#x8BBE;&#x7F6E;&#x4E3A;pgid</p>
<p>&#x5982;&#x679C;pid=0 &#xFF0C;&#x8868;&#x793A;&#x9009;&#x62E9;&#x8BE5;&#x51FD;&#x6570;&#x6240;&#x5728;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4;
&#x5982;&#x679C;pgid=0&#xFF0C;&#x8868;&#x793A;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x6240;&#x5728;&#x7684;&#x8FDB;&#x7A0B;&#x7684;PID&#x4F5C;&#x4E3A;&#x8FDB;&#x7A0B;&#x7EC4;ID </p>
<p>&#x6240;&#x4EE5;&#xFF0C;setpgid(0, 0); &#x7684;&#x542B;&#x4E49;&#x4E3A;&#xFF1A;&#x5C06;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4;ID&#x8BBE;&#x7F6E;&#x4E3A;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7684;PID</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x56E0;&#x4E3A;&#x8FDB;&#x7A0B;&#x4EC5;&#x80FD;&#x4FEE;&#x6539;&#x8FDB;&#x7A0B;&#x672C;&#x8EAB;&#x7EC4;ID&#x6216;&#x5176;&#x5B50;&#x8FDB;&#x7A0B;&#x7EC4;ID&#xFF0C;&#x6240;&#x4EE5;&#x53C2;&#x6570;pid&#x5FC5;&#x987B;&#x5176;&#x51FD;&#x6570;&#x6240;&#x5728;&#x8FDB;&#x7A0B;&#x7684;PID&#x6216;&#x8005;&#x5B83;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;PID&#x3002;</p>
<hr>
<p>&#x4EE5;&#x4E0B;&#x4E0D;&#x662F;Posix&#x63A5;&#x53E3;&#xFF0C;&#x662F;Linux-specific</p>
<h1 id="1-inotify">1 Inotify</h1>
<p>The inotify API provides a mechanism for monitoring and returning filesystem (file and directory) events.</p>
<h2 id="11-api">1.1 API</h2>
<p><code>#include &lt;sys/inotify.h&gt;</code></p>
<h3 id="111-int-inotifyinitvoid--int-inotifyinit1int-flags">1.1.1 int inotify_init(void) &amp; int inotify_init1(int flags)</h3>
<p>Initializes a new inotify instance and returns a file descriptor associated with a new inotify event queue, <code>inotify_init()</code> is same as <code>inotify_init1()</code> when param flags = 0</p>
<h4 id="1111-parameters">1.1.1.1 Parameters</h4>
<p>IN_NONBLOCK/IN_CLOEXEC can be set for <em>flags</em> to perform block and close-on-exec behavior (for inotify_init1()). </p>
<h4 id="1112-return-value">1.1.1.2 Return value</h4>
<p>On success, return a new file descriptor. On error, -1 is returned, and errno is set to indicate the error :</p>
<ul>
<li>EINVAL - (inotify_init1()) An invalid value was specified in flags.</li>
<li>EMFILE - The user limit on the total number of inotify instances has been reached.</li>
<li>EMFILE - The per-process limit on the number of open file descriptors has been reached.</li>
<li>ENFILE - The system-wide limit on the total number of open files has been reached.</li>
<li>ENOMEM - Insufficient kernel memory is available.</li>
</ul>
<h4 id="1113-note">1.1.1.3 Note</h4>
<p>Minimum kernel/glibc version requirements is V2.3.13/V2.4 for <code>inotify_init()</code> and V2.6.27/V2.9 for <code>linotify_init1()</code>.</p>
<h3 id="112-int-inotifyaddwatchint-fd-const-char-pathname-uint32t-mask">1.1.2 int inotify_add_watch(int fd, const char *pathname, uint32_t mask)</h3>
<p>Add a new watch or modifies an existing watch for the file or directory whose location is specified in param <em>pathname</em> to the monitor queue.</p>
<h4 id="1121-parameters">1.1.2.1 Parameters</h4>
<p><em>fd</em> is referring to which has been initialized instance. The events to be monitored for <em>pathname</em> are specified in the <em>mask</em> bit-mask argument.</p>
<h4 id="1122-return-value">1.1.2.2 Return value</h4>
<p>On success, return a nonnegative watch descriptor.  On error, -1 is returned and errno is set appropriately :</p>
<ul>
<li>EACCES - Read access to the given file is not permitted.</li>
<li>EBADF  - The given file descriptor is not valid.</li>
<li>EFAULT - <em>pathname</em> points outside of the process&apos;s accessible address space.</li>
<li>EINVAL - The given event mask contains no valid events; or fd is not an inotify file descriptor.</li>
<li>ENAMETOOLONG - <em>pathname</em> is too long.</li>
<li>ENOENT - A directory component in <em>pathname</em> does not exist or is a dangling symbolic link.</li>
<li>ENOMEM - Insufficient kernel memory was available.</li>
<li>ENOSPC - The user limit on the total number of inotify watches was reached or the kernel failed to allocate a needed resource.</li>
</ul>
<h4 id="1123-read">1.1.2.3 read()</h4>
<p><code>ssize_t read(int fd, void *buf, size_t count)</code> SHALL called to featch filesystem events from structure <code>struct inotify_event{}</code> :  </p>
<pre><code>struct inotify_event{  
    int      wd;       /* Watch descriptor */ 
    uint32_t mask;     /* Bits, mask describing event */  
    uint32_t cookie;   /* Unique cookie associating related events only for IN_MOVED_FROM and IN_MOVED_TO */  
    uint32_t len;      /* Size of name field (including &apos;\0&apos;) */  
    char     name[];   /* Optional terminated with &apos;\0&apos;, exist only when file events watched and reaturn, and may have multi &apos;\0&apos; endings to alignment content */  
}
</code></pre><table>
<thead>
<tr>
<th style="text-align:center">Object</th>
<th style="text-align:center">Macro</th>
<th style="text-align:center">Events description</th>
<th style="text-align:center">Note </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_ACCESS</td>
<td style="text-align:center">accesse</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_CLOSE_WRITE</td>
<td style="text-align:center">opene for writing was closed</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_MODIFY</td>
<td style="text-align:center">modify</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_MOVED_FROM</td>
<td style="text-align:center">rename an old name</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_MOVED_TO</td>
<td style="text-align:center">rename a new name</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file</td>
<td style="text-align:center">IN_MOVE</td>
<td style="text-align:center">= IN_MOVED_FROM &amp;#124 IN_MOVED_TO</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_CREATE</td>
<td style="text-align:center">create</td>
<td style="text-align:center">+</td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_DELETE</td>
<td style="text-align:center">delete</td>
<td style="text-align:center">+ </td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_OPEN</td>
<td style="text-align:center">open</td>
<td style="text-align:center">*</td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_CLOSE_NOWRITE</td>
<td style="text-align:center">opened for non-writing was closed</td>
<td style="text-align:center">* </td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_CLOSE</td>
<td style="text-align:center">= IN_CLOSE_WRITE &amp;#124 IN_CLOSE_NOWRITE</td>
<td style="text-align:center">*</td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_ATTRIB</td>
<td style="text-align:center">attributes were changed</td>
<td style="text-align:center">*</td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_MOVE_SELF</td>
<td style="text-align:center">-</td>
<td style="text-align:center">* </td>
</tr>
<tr>
<td style="text-align:center">file &amp; dir</td>
<td style="text-align:center">IN_DELETE_SELF</td>
<td style="text-align:center">-</td>
<td style="text-align:center">*</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_ALL_EVENTS</td>
<td style="text-align:center">monitor all events</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_EXCL_UNLINK</td>
<td style="text-align:center">except unlink events (since Linux 2.6.36)</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_DONT_FOLLOW</td>
<td style="text-align:center">- (since Linux 2.6.15)</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_MASK_ADD</td>
<td style="text-align:center">append instead cover for the same pathname</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_ONE_SHOT</td>
<td style="text-align:center">remove it once occure (since Linux 2.6.16)</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_ONLYDIR</td>
<td style="text-align:center">monitor only if it&apos;s directory</td>
<td style="text-align:center">for add</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_IGNORED</td>
<td style="text-align:center">objcet which monitored has been removed</td>
<td style="text-align:center">for read</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_ISDIR</td>
<td style="text-align:center">about directory</td>
<td style="text-align:center">for read</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_Q_OVERFLOW</td>
<td style="text-align:center">wd == -1</td>
<td style="text-align:center">for read</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">IN_UNMOUNT</td>
<td style="text-align:center">filesystem unmount</td>
<td style="text-align:center">for read  </td>
</tr>
</tbody>
</table>
<p><br><center> <font color="gray"> mask of structure inotify_event and for inotify_add_watch() param </font> </center><br></p>
<p>Tips : * refer that both for the directory itself and for objects inside the directory and + refer that only for objects inside the directory.</p>
<h4 id="1124-note">1.1.2.4 Note</h4>
<p>The param <em>buf</em> of read() should be set bigger enough for the reason of the member of structure inotify_event <u>name</u>, otherwise 0 will be return for the kernel version 2.6.21and EINVAL will be set for errno for the kernel version 2.6.21. </p>
<h3 id="113-inotifyrmwatchint-fd-int-wd">1.1.3 inotify_rm_watch(int fd, int wd)</h3>
<p>Remove an existing watch (<em>wd</em>) from an inotify instance which associated with the file descriptor <em>fd</em>.</p>
<h4 id="1131-parameters">1.1.3.1 Parameters</h4>
<p>-</p>
<h4 id="1132-return-value">1.1.3.2 Return value</h4>
<p>On success, inotify_rm_watch() returns zero.  On error, -1 is returned and errno is set to indicate the cause of the error:</p>
<ul>
<li>EBADF - fd is not a valid file descriptor.</li>
<li>EINVAL - The watch descriptor wd is not valid; or fd is not an inotify file descriptor.</li>
</ul>
<h4 id="1133-note">1.1.3.3 Note</h4>
<p>Removing a watch causes an IN_IGNORED event to be generated for this watch descriptor.</p>
<h3 id="114-config">1.1.4 Config</h3>
<ul>
<li>/proc/sys/fs/inotify/max_queued_events, config the max queue events</li>
<li>/proc/sys/fs/inotify/max_user_instances, config the max user instance</li>
<li>/proc/sys/fs/inotify/max_user_watches, config the max user watch</li>
</ul>
<h3 id="115-bug--note">1.1.5 Bug &amp; Note</h3>
<p>NOTE: &#x6240;&#x6709;wd&#x5220;&#x9664;&#x540E;&#xFF0C;&#x8C03;&#x7528;close&#x51FD;&#x6570;&#x5173;&#x95ED;inofiy fd&#xFF0C;&#x4EE5;&#x91CA;&#x653E;&#x5185;&#x6838;&#x8D44;&#x6E90;</p>
<p>BUG:
&#x5728;inotify_rm_watch&#x4ECE;&#x76D1;&#x89C6;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x9879;&#x76EE;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8C03;&#x7528;close&#x5173;&#x95ED;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x9879;&#x76EE;&#x5DF2;&#x4EA7;&#x751F;&#x7684;&#x4E8B;&#x4EF6;&#x4ECD;&#x7136;&#x662F;&#x53EF;&#x8BFB;&#x53D6;&#x7684;&#xFF0C;
&#xFF0C;&#x5982;&#x679C;inotify_add_watch&#x5728;&#x5217;&#x8868;&#x4E2D;&#x589E;&#x52A0;&#x9879;&#x76EE;&#xFF0C;&#x5219;&#x5F88;&#x53EF;&#x80FD;&#x5206;&#x914D;&#x5230;&#x90A3;&#x4E9B;&#x5220;&#x9664;&#x4F46;&#x672A;&#x5173;&#x95ED;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x7528;&#x6237;&#x53C8;&#x53BB;&#x8BFB;&#xFF0C;&#x90A3;&#x4E48;&#x8BFB;&#x5230;&#x7684;&#x5C06;&#x4E0D;&#x662F;&#x9884;&#x671F;&#x7684;
&#x3002;&#x907F;&#x514D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x8981;&#x4E48;&#x5220;&#x9664;&#x4E4B;&#x95F4;&#x5C31;&#x628A;&#x8BE5;&#x8BFB;&#x7684;&#x8BFB;&#x53D6;&#xFF0C;&#x5220;&#x9664;&#x540E;&#x5C31;&#x5173;&#x95ED;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x90A3;&#x4E48;&#x5220;&#x9664;&#x540E;&#x5C31;&#x4E0D;&#x8981;&#x5728;&#x8BFB;&#x53D6;&#x4E86;&#x3002;</p>
<pre><code>&#x5982;&#x679C;read&#x662F;&#x5728;&#x963B;&#x585E;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6CA1;&#x6709;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x5C06;&#x4E00;&#x76F4;&#x963B;&#x585E;&#xFF0C;&#x76F4;&#x5230;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x6216;&#x8005;&#x88AB;signal&#x4FE1;&#x53F7;&#x4E2D;&#x65AD;&#x3002;

&#x88AB;&#x4FE1;&#x53F7;&#x4E2D;&#x65AD;&#x7684;&#x60C5;&#x51B5;&#x662F;read&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF08;&#x9519;&#x8BEF;&#x4E3A;EINTR&#xFF09;&#x5BFC;&#x81F4;&#x7684;&#x7CFB;&#x7EDF;&#x81EA;&#x53D1;&#x53D1;&#x9001;&#x7684;&#x3002;
</code></pre><p>NOTE:
fallocate&#x51FD;&#x6570;&#x5728;3.19&#x4E4B;&#x524D;&#x4E0D;&#x4EA7;&#x751F;&#x4E8B;&#x4EF6;</p>
<p>NOTE&#xFF1A;</p>
<p>inotify API&#x4E0D;&#x62A5;&#x544A;&#x7531;&#x4E8E;mmap&#xFF08;2&#xFF09;&#x3001;msync&#xFF08;2&#xFF09;&#x548C;munmap&#xFF08;2&#xFF09;&#x800C;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x548C;&#x4FEE;&#x6539;&#x3002;</p>
<p>inotify &#x76D1;&#x89C6;&#x6587;&#x4EF6;&#x662F;&#x901A;&#x8FC7;&#x5176;&#x6587;&#x4EF6;&#x540D;&#x4F5C;&#x4E3A;ID&#xFF0C;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x540D;&#x6539;&#x53D8;&#xFF08;&#x4E14;&#x76D1;&#x89C6;&#x5217;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#xFF09;&#x90A3;&#x4E48;&#x5C06;&#x5931;&#x53BB;&#x5BF9;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x76D1;&#x89C6;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;Inotify&#x662F;&#x57FA;&#x4E8E;inode&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x6240;&#x76D1;&#x89C6;&#x7684;&#x6587;&#x4EF6;&#x5728;&#x5176;&#x5B83;&#x4EFB;&#x610F;&#x76EE;&#x5F55;&#x5EFA;&#x7ACB;&#x8F6F;&#x94FE;&#x63A5;&#xFF0C;&#x4EFB;&#x4F55;&#x5BF9;&#x8F6F;&#x94FE;&#x63A5;&#x7684;&#x64CD;&#x4F5C;&#x5982;&#x540C;&#x64CD;&#x4F5C;&#x6587;&#x4EF6;&#x672C;&#x8EAB;</p>
<p>&#x7531;&#x4E8E; inotify &#x662F;&#x57FA;&#x4E8E; inode &#x7684;&#xFF0C;&#x6240;&#x4EE5; mv &#x540E;&#x7684;&#x76EE;&#x5F55;&#x8FD8;&#x5728;&#x76D1;&#x542C;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14; wd &#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x6240;&#x4EE5;&#x76EE;&#x5F55;&#x4E0B;&#x6587;&#x4EF6;&#x7684;&#x6539;&#x52A8;&#x8FD8;&#x662F;&#x4F1A;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x3002;</p>
<h3 id="116-code-example">1.1.6 Code example</h3>
<pre><code>#include &lt;errno.h&gt;
#include &lt;poll.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/inotify.h&gt;
#include &lt;unistd.h&gt;

/* Read all available inotify events from the file descriptor &apos;fd&apos;.
   wd is the table of watch descriptors for the directories in argv.
   argc is the length of wd and argv.
   argv is the list of watched directories.
   Entry 0 of wd and argv is unused. */

static void handle_events(int fd, int *wd, int argc, char* argv[])
{
    /* Some systems cannot read integer variables if they are not
       properly aligned. On other systems, incorrect alignment may
       decrease performance. Hence, the buffer used for reading from
       the inotify file descriptor should have the same alignment as
       struct inotify_event. */

    char buf[4096]
        __attribute__ ((aligned(__alignof__(struct inotify_event))));
    const struct inotify_event *event;
    int i;
    ssize_t len;
    char *ptr;

    /* Loop while events can be read from inotify file descriptor. */

    for (;;) {

        /* Read some events. */

        len = read(fd, buf, sizeof buf);
        if (len == -1 &amp;&amp; errno != EAGAIN) {
            perror(&quot;read&quot;);
            exit(EXIT_FAILURE);

        }

        /* If the nonblocking read() found no events to read, then
           it returns -1 with errno set to EAGAIN. In that case,
           we exit the loop. */

        if (len &lt;= 0)
            break;

        /* Loop over all events in the buffer */

        for (ptr = buf; ptr &lt; buf + len;
                ptr += sizeof(struct inotify_event) + event-&gt;len) {

            event = (const struct inotify_event *) ptr;

            /* Print event type */

            if (event-&gt;mask &amp; IN_OPEN)
                printf(&quot;IN_OPEN: &quot;);
            if (event-&gt;mask &amp; IN_CLOSE_NOWRITE)
                printf(&quot;IN_CLOSE_NOWRITE: &quot;);
            if (event-&gt;mask &amp; IN_CLOSE_WRITE)
                printf(&quot;IN_CLOSE_WRITE: &quot;);

            /* Print the name of the watched directory */

            for (i = 1; i &lt; argc; ++i) {
                if (wd[i] == event-&gt;wd) {
                    printf(&quot;%s/&quot;, argv[i]);
                    break;
                }
            }

            /* Print the name of the file */

            if (event-&gt;len)
                printf(&quot;%s&quot;, event-&gt;name);

            /* Print type of filesystem object */

            if (event-&gt;mask &amp; IN_ISDIR)
                printf(&quot; [directory]\n&quot;);
            else
                printf(&quot; [file]\n&quot;);
        }
    }
}

int main(int argc, char* argv[])
{
    char buf;
    int fd, i, poll_num;
    int *wd;
    nfds_t nfds;
    struct pollfd fds[2];

    if (argc &lt; 2) {
        printf(&quot;Usage: %s PATH [PATH ...]\n&quot;, argv[0]);
        exit(EXIT_FAILURE);
    }

    printf(&quot;Press ENTER key to terminate.\n&quot;);

    /* Create the file descriptor for accessing the inotify API */

    fd = inotify_init1(IN_NONBLOCK);
    if (fd == -1) {
        perror(&quot;inotify_init1&quot;);
        exit(EXIT_FAILURE);
    }

    /* Allocate memory for watch descriptors */

    wd = calloc(argc, sizeof(int));
    if (wd == NULL) {
        perror(&quot;calloc&quot;);
        exit(EXIT_FAILURE);
    }

    /* Mark directories for events

       - file was opened
       - file was closed */

    for (i = 1; i &lt; argc; i++) {
        wd[i] = inotify_add_watch(fd, argv[i],
                IN_OPEN | IN_CLOSE);
        if (wd[i] == -1) {
            fprintf(stderr, &quot;Cannot watch &apos;%s&apos;\n&quot;, argv[i]);
            perror(&quot;inotify_add_watch&quot;);
            exit(EXIT_FAILURE);
        }
    }

    /* Prepare for polling */

    nfds = 2;

    /* Console input */

    fds[0].fd = STDIN_FILENO;
    fds[0].events = POLLIN;

    /* Inotify input */

    fds[1].fd = fd;
    fds[1].events = POLLIN;

    /* Wait for events and/or terminal input */

    printf(&quot;Listening for events.\n&quot;);
    while (1) {
        poll_num = poll(fds, nfds, -1);
        if (poll_num == -1) {
            if (errno == EINTR)
                continue;
            perror(&quot;poll&quot;);
            exit(EXIT_FAILURE);
        }

        if (poll_num &gt; 0) {

            if (fds[0].revents &amp; POLLIN) {

                /* Console input is available. Empty stdin and quit */

                while (read(STDIN_FILENO, &amp;buf, 1) &gt; 0 &amp;&amp; buf != &apos;\n&apos;)
                    continue;
                break;
            }

            if (fds[1].revents &amp; POLLIN) {

                /* Inotify events are available */

                handle_events(fd, wd, argc, argv);
            }
        }
    }

    printf(&quot;Listening for events stopped.\n&quot;);

    /* Close inotify file descriptor */

    close(fd);

    free(wd);
    exit(EXIT_SUCCESS);
}
</code></pre><p>Tips : function <code>select()</code>, <code>poll()</code> and <code>epoll()</code> can be used for inotify.</p>
<p>&#x7F51;&#x4E0A;&#x7684;&#x5217;&#x8868;</p>
<p>Constant Name    Linux Name    Interpretation
Access    IN_ACCESS    Object accessed
Modify    IN_MODIFY    Object modified
Attributes    IN_ATTRIB    Object attributes modified
Open    IN_OPEN    File opened
CloseWrite    IN_CLOSE_WRITE    File closed after contents changed
CloseOther    IN_CLOSE_NOWRITE    File closed without contents changed
Close    IN_CLOSE    File closed
MoveFrom    IN_MOVED_FROM    Object moved from location
MoveTo    IN_MOVED_TO    Object moved to location
Move    IN_MOVE    Object moved
MoveSelf    IN_MOVE_SELF    Object being monitored is deleted
Create    IN_CREATE    Object created
Delete    IN_DELETE    Object deleted
DeleteSelf    IN_DELETE_SELF    Object being monitored is deleted
Ignored    IN_IGNORED    Ignored
DirEvent    IN_ISDIR    The monitored object to which the event occurred is a directory
AllEvents    IN_ALL_EVENTS    Any event
The constants are set up so they can be or-ed together to create meaningful combinations of event types.</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; Jim 2019-2020 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Revision time: 
2020-04-15 15:52:07
</span></footer>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Shell.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Shell">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"OS Programming","level":"1.4.2","depth":2,"next":{"title":"BSP","level":"1.4.3","depth":2,"ref":"","articles":[{"title":"Device driver","level":"1.4.3.1","depth":3,"ref":"","articles":[]},{"title":"RootFS","level":"1.4.3.2","depth":3,"ref":"","articles":[]},{"title":"Kernel","level":"1.4.3.3","depth":3,"path":"pages/Kernel.md","ref":"pages/Kernel.md","articles":[]},{"title":"Bootloader","level":"1.4.3.4","depth":3,"path":"pages/Bootloader.md","ref":"pages/Bootloader.md","articles":[]}]},"previous":{"title":"Shell","level":"1.4.1.6","depth":3,"path":"pages/Shell.md","ref":"pages/Shell.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["chapter-fold","back-to-top-button","hide-element","code","splitter","search-pro","custom-favicon","custom-favicon","popup","-sharing","sharing-plus","expandable-chapters","page-toc-button","pageview-count","tbfed-pagefooter","flexible-alerts"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Jim 2019-2020","modify_label":"Revision time: ","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"splitter":{},"search-pro":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"popup":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"favicon":"icon/favincon.ico","page-toc-button":{"maxTocDepth":4,"minTocSize":2},"back-to-top-button":{},"pageview-count":{},"custom-favicon":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"sharing":{"qq":true,"all":["douban","facebook","google","instapaper","linkedin","twitter","weibo","messenger","qq","qzone","viber","whatsapp"],"douban":true,"facebook":true,"weibo":true,"twitter":true,"pocket":true,"google":true,"qzone":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"pages/Posix.md","mtime":"2020-04-15T07:52:07.169Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-15T09:44:45.250Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

